#!/bin/sh

default_display="`cat /sys/devices/platform/omapdss/manager0/display`"
if [ "$default_display" = "dvi" ]; then
	filename="/usr/share/ti/video/HistoryOfTI-480p.264"
else
	filename="/usr/share/ti/video/HistoryOfTI-VGA-r.264"
fi
if [ ! -f $filename ]; then
        echo "Video clip not found"
        exit 1
fi
echo ""
echo "Launch GStreamer pipeline"
echo ""
echo "Length of video clip: 18 seconds"
gst-launch-0.10 -v filesrc location=$filename ! h264parse ! ffdec_h264 ! ffmpegcolorspace ! fbdevsink device=/dev/fb0
