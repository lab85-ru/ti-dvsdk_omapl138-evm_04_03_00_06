<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!--
 *  Copyright (c) 2010, Texas Instruments Incorporated
 *  All rights reserved.
 *
 *  Redistribution and use in source and binary forms, with or without
 *  modification, are permitted provided that the following conditions
 *  are met:
 *
 *  *  Redistributions of source code must retain the above copyright
 *     notice, this list of conditions and the following disclaimer.
 *
 *  *  Redistributions in binary form must reproduce the above copyright
 *     notice, this list of conditions and the following disclaimer in the
 *     documentation and/or other materials provided with the distribution.
 *
 *  *  Neither the name of Texas Instruments Incorporated nor the names of
 *     its contributors may be used to endorse or promote products derived
 *     from this software without specific prior written permission.
 *
 *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 *  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
 *  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 *  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 *  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 *  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
 *  OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
 *  OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 *  EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
-->
<html>
<head>
  <title>XDAIS Example Build Instructions</title>
<!-- For now, we use the doxygen style sheet -->
  <link type="text/css" rel="stylesheet" href="../docs/html/doxygen.css">
</head>
<body>
<table width="100%">
  <tbody>
    <tr>
      <td bgcolor="black" width="1">
        <a href="http://www.ti.com">
          <img src="../docs/html/tilogo.gif" border="0" alt="Texas
          Instruments">
        </a>
      </td>
      <td bgcolor="red">
        <img src="../docs/html/titagline.gif" alt="Technology for
        Innovators">
      </td>
    </tr>
  </tbody>
</table>
<h1>Build Instructions for XDAIS Example Algorithms</h1>
<hr>
<h2>General Information</h2>
<p>This page explains how to build the examples provided in the
XDAIS product.
</p>
<p>Examples currently contain the simple pass-through (copy) codecs,
implemented in the XDM algorithm standard.
</p>
<hr>
<h2>Requirements</h2>
<p>See the release notes for the specific software and hardware components this
release of XDAIS has been validated against.
</p>
<hr>
<h2>Directory Structure</h2>
<pre>
examples
    +---ti
        +---xdais
            +---dm
                +---examples
                    +---<a href="../xdoc/index.html#ti/xdais/dm/examples/auddec_copy/package.html">auddec_copy</a>
                    +---<a href="../xdoc/index.html#ti/xdais/dm/examples/auddec1_copy/package.html">auddec1_copy</a>
                    +---<a href="../xdoc/index.html#ti/xdais/dm/examples/audenc1_copy/package.html">audenc1_copy</a>
                    +---<a href="../xdoc/index.html#ti/xdais/dm/examples/g711/package.html">g711</a>
                    +---<a href="../xdoc/index.html#ti/xdais/dm/examples/imgdec1_copy/package.html">imgdec1_copy</a>
                    +---<a href="../xdoc/index.html#ti/xdais/dm/examples/imgenc1_copy/package.html">imgenc1_copy</a>
                    +---<a href="../xdoc/index.html#ti/xdais/dm/examples/sphdec1_copy/package.html">sphdec1_copy</a>
                    +---<a href="../xdoc/index.html#ti/xdais/dm/examples/sphenc1_copy/package.html">sphenc1_copy</a>
                    +---<a href="../xdoc/index.html#ti/xdais/dm/examples/universal_copy/package.html">universal_copy</a>
                    +---<a href="../xdoc/index.html#ti/xdais/dm/examples/vidanalytics_copy/package.html">vidanalytics_copy</a>
                    +---<a href="../xdoc/index.html#ti/xdais/dm/examples/viddec1_copy/package.html">viddec1_copy</a>
                    +---<a href="../xdoc/index.html#ti/xdais/dm/examples/viddec2_copy/package.html">viddec2_copy</a>
                    +---<a href="../xdoc/index.html#ti/xdais/dm/examples/videnc1_copy/package.html">videnc1_copy</a>
                    `---<a href="../xdoc/index.html#ti/xdais/dm/examples/vidtranscode_copy/package.html">vidtranscode_copy</a>
</pre>
<hr>
<h2>Preparing to Build the Examples</h2>
<h3>Create a working directory</h3>
<p>
Create a working directory (e.g. <b>c:/myPackages</b>) and copy the
contents of the <b>examples</b> directory into it.  This will be where
you build and modify the XDAIS examples.
</p>
<p>
Doing this will ensure you have a backup copy of the original examples, as
provided by the XDAIS product.
</p>
<p><i>Important</i>: throughout the rest of this document, we will use the
following notation:
</p>
<ul>
  <li><tt>&lt;XDAIS_EXAMPLES_INSTALL_DIR&gt;</tt> - absolute path of the
  repository you made, containing the example packages.
  e.g. <tt>/usr/work/examples</tt></li>
  <li><tt>&lt;XDAIS_INSTALL_DIR&gt;</tt> - root directory of your XDAIS
  installation. The original examples are in
  <tt>&lt;XDAIS_INSTALL_DIR&gt;/examples</tt>.</li>
  <li><tt>&lt;XDC_INSTALL_DIR&gt;</tt> - root directory of your xdctools
  installation.</li>
  <li><i>directory/file</i> - position of the file relative to the
  examples directory; for examples, <b>Makefile</b> refers to
  <tt>&lt;XDAIS_EXAMPLES_INSTALL_DIR&gt;/Makefile</tt>.</li>
</ul>

<hr>
<h2>Build using the provided .pjt files</h2>
<p>Each example package includes a .pjt file in a pjt directory within the
example.  The .pjts require two variables to be set, both are described above:
</p>
<ul>
  <li><tt>XDAIS_INSTALL_DIR</tt> - required for the XDAIS interface headers</li>
  <li><tt>XDC_INSTALL_DIR</tt> - required for <b>xdc/std.h</b></li>
</ul>
<p>
You can either set these variables in your system, or modify the .pjt files
with paths appropriate for your development environment.
</p>
<p>
As expected, these .pjts require CCS and only run on Windows.  Also, the
.pjt's provided only support the C64+ target.
</p>
<p>
Alternatively, you can use the more portable XDC tools to build your examples.
Instructions for building with those tools follows.
</p>

<hr>

<h2>Build with XDCtools</h2>
<h3>1.  Manage config.bld</h3>
<p>The XDAIS examples are also provided with XDC build scripts.  The master
build configuration script, <b>config.bld</b>, is used to define the targets
and environment in which the example XDC packages will be built.
</p>
<p>At the root of the Examples directory, there is a
<b>config.bld.default</b> config script which can be used to start from.
Simply rename it to config.bld, and open this file in a text editor.
</p>

<h4>Build.targets</h4>
<ul>
  <li>The XDAIS examples are very portable and run in many different
  environments.  The <b>Build.targets</b> array specifies which
  targets you want to build for.  By default, the C64P target is enabled.
  </li>
</ul>

<h4>Toolchain roots - rootDir</h4>
<ul>
  <li><b>C64P.rootDir</b> - Specify where your C64 tools are<br>
  Edit the string (directory name) assigned to the <b>C64P.rootDir</b>
  variable. Note that both Windows and Linux builds are supported.
  This is the directory that contains bin/, include/, and lib/
  subdirectory.  (Note also that this is only necessary if "C64P" is
  included in your "Build.targets" array)</li>
</ul>

<h3>2. Edit <b>Makefile</b> to define the necessary variables</h3>

<p>The <b>Makefile</b> file, located at the root of the examples/
directory, defines where the XDAIS product is installed, and where the
XDCtools are.  Open this file in a text editor.
</p>
<ul>
  <li>Specify where your XDAIS product is installed: <br>
  Set <b>XDAIS_INSTALL_DIR</b> to the absolute path to your XDAIS
  installation directory.</li>
  <li>Specify where your XDC tools are installed:<br>
  Set <b>XDC_INSTALL_DIR</b> to the absolute path to your XDCtools
  installation directory.</li>
</ul>

<h3>3. Build examples</h3>
<p>
From the base of your working directory, type</p>
<p>&nbsp;&nbsp;&nbsp; <b>gmake clean<br>
&nbsp;&nbsp;&nbsp; gmake</b></p>



<hr>
<p>
Last updated: September 18, 2010
</p>
</body>
</html>
