<?xml version="1.0" encoding="UTF-8"?>
<package kind='package' name='ti.bios.log.ndk' nodoc='0' root='../../../../' summary='The+ti.bios.log.ndk+package+defines+the+LogServerCgi+module'>
    <line tab='0' content='%3Cspan+class%3D%22xdoc-kw1%22%3Erequires%3C%2Fspan%3E+%3Ca+class%3D%22xdoc-link%22+href%3D%22..%2F..%2F..%2F..%2Fti%2Fbios%2Fpackage.html%22+title%3D%22ti.bios%22%3Eti.bios%3C%2Fa%3E%3B'/>
    <line tab='0' content='%3Cspan+class%3D%22xdoc-kw1%22%3Erequires%3C%2Fspan%3E+%3Ca+class%3D%22xdoc-link%22+href%3D%22..%2F..%2F..%2F..%2Fti%2Fbios%2Flog%2Fsupport%2Fpackage.html%22+title%3D%22ti.bios.log.support%22%3Eti.bios.log.support%3C%2Fa%3E%3B'/>
    <line blank='1' always='0'/>
    <line tab='0' content='%3Cspan+class%3D%22xdoc-kw1%22%3Epackage%3C%2Fspan%3E+%3Cgo%3E%3Cspan+class%3D%22xdoc-id%22%3Eti.bios.log.ndk%3C%2Fspan%3E%3C%2Fgo%3E+%5B1%2C+0%2C+2%2C+02%5D+%7B'/>
    <line tab='0' content='%7D'/>
    <unit name='LogServerCgi' kind='module' nodoc='0' metaonly='1' summary='LogServerCgi+module'>
        <synopSpec>
            <line tab='0' content='%3Cspan+class%3D%22xdoc-kw1%22%3Epackage%3C%2Fspan%3E+%3Ca+class%3D%22xdoc-link%22+href%3D%22..%2F..%2F..%2F..%2Fti%2Fbios%2Flog%2Fndk%2Fpackage.html%22+title%3D%22ti.bios.log.ndk%22%3Eti.bios.log.ndk%3C%2Fa%3E%3B'/>
            <line blank='1' always='0'/>
            <line tab='0' content='%3Cspan+class%3D%22xdoc-kw1%22%3Emetaonly+%3C%2Fspan%3E%3Cspan+class%3D%22xdoc-kw1%22%3Emodule%3C%2Fspan%3E+%3Cgo%3E%3Cspan+class%3D%22xdoc-id%22%3ELogServerCgi%3C%2Fspan%3E%3C%2Fgo%3E+%7B'/>
            <line tab='0' content='%7D'/>
        </synopSpec>
        <specInfo>
            <line tab='0' content='%3Cspan+class%3D%22xdoc-kw1%22%3Emetaonly+%3C%2Fspan%3E%3Cspan+class%3D%22xdoc-kw1%22%3Emodule%3C%2Fspan%3E+%3Cgo%3E%3Cspan+class%3D%22xdoc-id%22%3ELogServerCgi%3C%2Fspan%3E%3C%2Fgo%3E+%7B%3Cb%3E%26nbsp%3B%26nbsp%3B...%3C%2Fb%3E'/>
        </specInfo>
        <synopMeta>
            <line tab='0' content='%3Cspan+class%3D%22xdoc-kw1%22%3Evar%3C%2Fspan%3E+LogServerCgi+%3D+%3Cspan+class%3D%22xdoc-kw3%22%3Exdc.useModule%3C%2Fspan%3E%28%3Cspan+class%3D%22xdoc-id%22%3E%27ti.bios.log.ndk.LogServerCgi%27%3C%2Fspan%3E%29%3B'/>
        </synopMeta>
        <docSect name='details'>
            <docPara content='The+LogServerCgi+module+provides+a+command+interface+to+the+Target+DSP+using%0A++the+Common+Gateway+Interface+%28CGI%29.++The+commands+in+this+interface+may+be%0A++called+by+a+remote+machine+when+connected+to+the+Target+via+ethernet+cable.%0A++These+commands+must+be+sent+over+the+internet+using+the+HTTP+protocol.'/>
            <docPara content='Each+command+in+this+interface+corresponds+to+an+operation+that+can+be%0A++performed+by+the+DSP.++The+following+CGI+commands+are+supported+by+the%0A++LogServerCgi+module%3A'/>
            <docPara content='%3CPRE+class%3D%22Example%22%3E++capturelogs.cgi+++++%2F%2F+capture+log+data+for+a+set+of+BIOS+logs.%0A++disablelogging.cgi++%2F%2F+disable+a+set+of+BIOS+logs.%0A++enablelogging.cgi+++%2F%2F+enable+a+set+of+BIOS+logs.%0A++getcpuspeed.cgi+++++%2F%2F+get+the+speed+of+the+DSP.%0A++logflush.cgi++++++++%2F%2F+flush+and+discard+data+for+a+set+of+BIOS+logs.%0A++readword.cgi++++++++%2F%2F+read+a+word+of+data+from+Target+memory.%0A++settrackaddrs.cgi+++%2F%2F+set+addresses+for+which+the+LogTrack+module+will%0A++++++++++++++++++++++%2F%2F+print+values+for.%0A++stopstream.cgi++++++%2F%2F+stop+streaming+of+BIOS+log+data.%0A++streamlogs.cgi++++++%2F%2F+stream+log+data+for+a+set+of+BIOS+logs.%0A++writeword.cgi+++++++%2F%2F+write+a+word+of+data+to+Target+memory.%0A%3C%2FPRE%3E'/>
            <docPara content='Each+of+the+above+CGIs+corresponds+to+a+C+function%2C+which+is+called+in+its%0A++own+thread+context.++This+thread+will+be+started+with+the+default+priority%0A++of+OS_TASKPRINORM%2C+as+defined+in+the+NDK.++Each+CGI+function+will+run+to%0A++completion%2C+at+which+point+the+thread+will+terminate.'/>
            <docPara content='If+the+user+desires%2C+some+properties+of+these+CGI+threads+can+be+configured%0A++using+the+C+structure+LogServerCgi_Config.++This+structure+allows%0A++the+user+to+change+the+default+CGI+thread+priority%2C+the+size+of+the+log+data%0A++buffer+%28the+buffer+used+to+copy+log+data+from+the+target+in+order+to+send+it%0A++to+the+Host%29%2C+as+well+as+the+memory+segment+from+which+to+allocate+this%0A++buffer.++The+structure+is+defined+as+follows%3A'/>
            <docPara content='%3CPRE+class%3D%22Example%22%3E++typedef+struct+LogServerCgi_Config+%7B%0A++++++Uint32+priority%3B+%0A++++++Int+segId%3B%0A++++++Uint32+bufSize%3B%0A++%7D+LogServerCgi_Config%3B%0A%3C%2FPRE%3E'/>
            <docPara content='%3CUL%3E%3CLI%3E++priority+-+used+to+change+the+priority+which+CGI+threads+will+run+at.++The%0A++++++++++++setting+of+CGI+thread+priority+using+this+variable+will+result+in%0A++++++++++++all+CGI+threads+in+the+program+running+at+that+priority+level.%0A++++++++++++However%2C+the+user+is+limited+to+the+values+in+the+range%0A++++++++++++%5B0+-+OS_TASKPRINORM%5D.%0A++++++++++++The+following+rules+apply+when+setting+the+CGI+thread+priority%3A%0A%0A%3C%2FLI%3E%3C%2FUL%3E'/>
            <docPara content='%3Col%3E%0A+++++++++++%3Cli%3Epriority+set+to+a+number+in+the+range+%5B0+-+OS_TASKPRINORM%5D+-%0A+++++++++++++++All+CGI+threads+in+the+program+will+run+at+the+value+specified.%0A+++++++++++++++%3C%2Fli%3E%0A+++++++++++%3Cli%3Epriority+set+to+a+negative+number+-+All+CGI+threads+will+run+at%0A+++++++++++++++the+default+priority+of+OS_TASKPRINORM.%3C%2Fli%3E%0A+++++++++++%3Cli%3Epriority++set+to+a+value+greater+than+OS_TASKPRINORM+-+All+CGI%0A+++++++++++++++threads+will+run+at+default+priority+of+OS_TASKPRINORM.%3C%2Fli%3E%0A++++%3C%2Fol%3E'/>
            <docPara content='%3CUL%3E%3CLI%3E++segId+++++-+Used+to+change+the+memory+segment+in+which+the+data+buffer+used%0A++++++++++++++for+copying+log+data+is+allocated+from.%0A%3C%2FLI%3E%3C%2FUL%3E'/>
            <docPara content='%3CUL%3E%3CLI%3E++bufSize+++-+Used+to+change+the+size+of+the+data+buffer+used+for+copying+log%0A++++++++++++++data.+%0A%3C%2FLI%3E%3C%2FUL%3E'/>
            <docPara content='If+the+user+wishes+to+use+this+structure+to+configure+these+settings%2C+then%0A++it+is+necessary+to+define+an+instance+of+this+type+named+LogServerCgi_config%0A++in+the+user%27s+code.'/>
            <docPara content='For+example%2C+in+order+to+change+the+CGI+thread+priority+to+1+%28for+all+CGIs%29%2C%0A++change+the+memory+segment+to+allocate+the+transfer+buffer+from+to+segment+0%2C%0A++and+to+change+the+size+of+the+transfer+buffer+to+4096%2C+the+following+code%0A++should+be+added+to+the+user%27s+program%3A'/>
            <docPara content='%3CPRE+class%3D%22Example%22%3E++LogServerCgi_Config++LogServerCgi_config+%3D%0A++++++++++%7B1%2C+%0A++++++++++0%2C%0A++++++++++4096%2C%0A++++++++++%7D%3B%0A%3C%2FPRE%3E'/>
            <docPara content='Important+note%3A+Re-defining+the+above+mentioned+config+structure+works+by%0A++using+a+linker+ordering+trick.++Since+the+user+program+containing+the+above%0A++redefinition+is+linked+after+the+logservercgi+library%2C+the+latest+definition%0A++will+override+the+one+in+the+logservercgi+library.++That+being+said%2C+it+is%0A++important+that+the+user%27s+redefined+config+definition+be+linked+after+the%0A++logservercgi+library%2C+or+any+other+file+that+may+redefine+the%0A++LogServerCgi_config+struct%21'/>
        </docSect>
        <group name='module-wide constants &amp; types'>
            <decl spacer='1'/>
        </group>
        <group name='module-wide config parameters'>
            <decl spacer='1'/>
            <decl spacer='1'/>
            <decl spacer='1'/>
        </group>
        <group name='module-wide functions'>
            <decl spacer='1'/>
        </group>
    </unit>
    <docSect name='details'>
        <docPara content='%3CUL%3E%3CLI%3E+The+LogServerCgi+module+provides+a+CGI+command+interface%2C+allowing+a+Host+side+machine+access+to+the+DSP%2FBIOS+Log+Server+via+an+internet+connection.%0A+%0A%3C%2FLI%3E%3C%2FUL%3E'/>
    </docSect>
</package>
